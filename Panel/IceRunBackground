
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
public class IceRunBackground extends JPanel
{
   private JLabel top;
   private String selectedOption;
   public String finalOption;
   private JLabel currentlySelectedText; 
   public BackgroundPic currentlySelectedImage;
   
   
   public IceRunBackground()
   {
      setLayout(new BorderLayout());
   
      JPanel header = new JPanel();
      header.setLayout(new FlowLayout());
      top = new JLabel("Pick a Background:");
      
      top.setForeground(Color.BLUE);
      
      header.add(top);
   

      add(header, BorderLayout.NORTH);
     
      JPanel buttons = new JPanel();
      buttons.setLayout(new GridLayout(3,3,5,5));
      add(buttons, BorderLayout.CENTER);
      addButton(buttons, "Arctic", "Arctic");
      addButton(buttons, "Beach", "Beach");
      addButton(buttons, "Cave","Cave");
      addButton(buttons, "Waterfall", "GreatFalls");
      addButton(buttons, "Nyan Cat", "NyanCat");
      addButton(buttons, "Mountains", "SnowMountains");
      addButton(buttons, "Spurce Trees", "SnowSpurceTrees");
      addButton(buttons, "Valley", "ValleyOfTheEnd");
      addButton(buttons, "Volcano", "Volcano");
      
      JPanel c = new JPanel();
      c.setLayout(new GridLayout(3,1,10,10));
      currentlySelectedText = new JLabel("Currently Selected: " ,SwingConstants.CENTER);
      c.add(currentlySelectedText);
      
      currentlySelectedImage = new BackgroundPic("Beach");
      //currentlySelectedImage.drawImage();
      c.add( currentlySelectedImage);
      
      JButton confirm = new JButton("Confirm Selection");
      confirm.setForeground(Color.GREEN);
      confirm.addActionListener(new ConfirmListener());
      c.add(confirm);
      add(c, BorderLayout.SOUTH);
   }
   private void addButton(JPanel panel, String s, String imgName)
   {
      JButton button = new JButton(s);
      button.addActionListener(new Listener(s, imgName));
      panel.add(button);
        
   }
   private class Listener implements ActionListener
   {
      private String imgName, imgFileName;
      public Listener(String name, String picture)
      {
         imgName = name;
         imgFileName = picture + "_resized.jpg";
      }
      public void actionPerformed(ActionEvent e)
      {
         selectedOption = imgName;
         currentlySelectedText.setText("Currently Selected: " +  imgName);
         currentlySelectedImage.setNewImage(imgFileName);
         //System.out.println("Selected: " + selectedOption);//test code
      }
   }
   
   private class ConfirmListener implements ActionListener
   {
      public void actionPerformed(ActionEvent e)
      {
      finalOption = selectedOption;
      //System.out.println("Final: " + finalOption);
      System.exit(0);//test
      }
   }
  
}
